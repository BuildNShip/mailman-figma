<!-- Standard link tag-->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/thomas-lowry/figma-plugin-ds/dist/figma-plugin-ds.css">

<h1>Form</h1>

<style>
input{
  display: block;
}
body{
  padding: 2em;
}

div{
  margin: 1em;
}
</style>





<div>
  <label for="fromMail">From</label>
  <input class="input__field" id="fromMailField" type="text">

  <label for="password">Password</label>
  <input class="input__field" id="passwordField" type="text">

  <label for="subject">Subject</label>
  <input class="input__field" id="subjectField" type="text">

  <label for="content">Body</label>
  <input class="textarea" id="contentField" type="textarea" rows="2">

  <div>
    <label for="username">Username</label>
    <input class="input__field" type="text" value="username" id="username">

    <label for="name">Name</label>
    <input class="input__field" type="text" value="display name" id="name">
  
    <label for="description">Description</label>
    <input type="textarea" class="textarea" rows="2" value="your post goes here" id="description">

  </div>

  <div class="switch">
    <input id="dark-mode-on" class="switch__toggle" type="checkbox">
    <label class="switch__label" for="dark-mode-on">Dark mode</label>
  </div>


  <div class="radio">
    <input id="radioButton1" type="radio" class="radio__button" name="variantGroup" value="1">
    <label for="radioButton1" class="radio__label">No Image</label>

    <input id="radioButton2" type="radio" class="radio__button" name="variantGroup" value="2">
    <label for="radioButton2" class="radio__label">Single Image</label>

    <input id="radioButton3" type="radio" class="radio__button" name="variantGroup" value="3">
    <label for="radioButton3" class="radio__label">Carousal</label>
  </div>


  <div>
    <button class="button button--primary" id="submitPost">Submit</button>
  </div>

</div>

<script>
  document.getElementById('submitPost').onclick = ()=>{
    const fromMail = document.getElementById('fromMailField').value
    const password = document.getElementById('passwordField').value
    const subject = document.getElementById('subjectField').value;
    const content = document.getElementById('contentField').value


    const name = document.getElementById("name").value;
    const username = document.getElementById("username").value;
    const description = document.getElementById("description").value;
    const darkModeState = document.getElementById("dark-mode-on").checked;
    const imageVariant = document.querySelector('input[name="variantGroup"]:checked').value;
    
    datas = {
      name,
      username,
      description,
      darkModeState,
      imageVariant,
      fromMail,
      password,
      subject,
      content,
    }

    parent.postMessage({pluginMessage:datas},"*");
    
  }

  
</script>